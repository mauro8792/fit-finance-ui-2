/* Estilos globales para optimización mobile */

/* Evitar zoom en inputs en iOS */
input[type="color"],
input[type="date"],
input[type="datetime"],
input[type="datetime-local"],
input[type="email"],
input[type="month"],
input[type="number"],
input[type="password"],
input[type="search"],
input[type="tel"],
input[type="text"],
input[type="time"],
input[type="url"],
input[type="week"],
select:focus,
textarea {
  font-size: 16px !important;
}

/* Evitar overflow horizontal en toda la app */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
  box-sizing: border-box;
}

*, *::before, *::after {
  box-sizing: border-box;
}

/* Permitir scroll natural en mobile */
html, body, #root {
  height: auto;
  min-height: 100vh;
}

/* Scroll suave */
html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Layout para mobile */
@media (max-width: 900px) {
  body {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    height: auto !important;
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0d1421 100%) !important;
  }
  
  #root {
    height: auto !important;
    min-height: 100vh !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0d1421 100%) !important;
  }
  
  /* Asegurar que los contenedores principales permitan scroll sin overflow horizontal */
  .app {
    height: auto !important;
    min-height: 100vh !important;
    overflow-x: hidden !important;
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0d1421 100%) !important;
  }
  
  .content {
    height: auto !important;
    min-height: calc(100vh - 80px) !important;
    overflow-x: hidden !important;
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0d1421 100%) !important;
  }
  
  /* Permitir scroll en los contenedores MUI manteniendo colores oscuros */
  .MuiBox-root {
    overflow-y: visible !important;
    overflow-x: hidden !important;
    max-height: none !important;
    max-width: 100% !important;
  }
  
  /* Asegurar que los contenedores no tengan altura fija */
  main, .content, .MuiBox-root {
    height: auto !important;
    max-height: none !important;
  }
  
  /* Padding extra en el bottom para evitar cortes */
  .student-dashboard {
    padding-bottom: 150px !important;
  }
}

/* Optimización para touch devices */
button, .MuiButton-root {
  min-height: 44px; /* Tamaño mínimo de touch target */
  min-width: 44px;
}

/* Mejorar el scrolling en iOS */
.scrollable {
  -webkit-overflow-scrolling: touch;
}

/* Cards responsivas */
.MuiCard-root {
  transition: transform 0.2s ease-in-out;
}

/* Mejoras para modal en mobile */
@media (max-width: 600px) {
  .MuiDialog-paper {
    margin: 0 !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
  }
  
  .MuiDialogTitle-root {
    padding: 16px !important;
  }
  
  .MuiDialogContent-root {
    padding: 16px !important;
  }
  
  .MuiDialogActions-root {
    padding: 16px !important;
  }
}

/* Optimización de texto para pantallas pequeñas */
@media (max-width: 600px) {
  .MuiTypography-h1 {
    font-size: 2rem !important;
  }
  
  .MuiTypography-h2 {
    font-size: 1.75rem !important;
  }
  
  .MuiTypography-h3 {
    font-size: 1.5rem !important;
  }
  
  .MuiTypography-h4 {
    font-size: 1.25rem !important;
  }
  
  .MuiTypography-h5 {
    font-size: 1.1rem !important;
  }
  
  .MuiTypography-h6 {
    font-size: 1rem !important;
  }
}

/* Spacing responsivo */
@media (max-width: 600px) {
  .MuiGrid-container {
    margin: 0 !important;
    width: 100% !important;
  }
  
  .MuiGrid-item {
    padding: 8px !important;
  }
  
  /* Mejorar tabs en móvil */
  .MuiTabs-root {
    max-width: 100% !important;
    overflow: hidden !important;
  }
  
  .MuiTabs-scroller {
    overflow-x: auto !important;
    overflow-y: hidden !important;
  }
  
  .MuiTabs-flexContainer {
    overflow-x: auto !important;
  }
  
  /* Mejorar legibilidad del texto en botones */
  .MuiButton-root {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  }
  
  .MuiTab-root {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
  }
  
  /* Asegurar que el texto sea siempre legible */
  .MuiButton-root.Mui-selected,
  .MuiTab-root.Mui-selected {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4) !important;
  }
  
  /* Tablas responsivas */
  table {
    max-width: 100% !important;
    overflow-x: auto !important;
  }
  
  /* Contenedores de tablas */
  .table-container {
    overflow-x: auto !important;
    width: 100% !important;
    max-width: 100% !important;
  }
}

/* Chips más pequeños en mobile */
@media (max-width: 600px) {
  .MuiChip-root {
    height: 24px !important;
    font-size: 0.75rem !important;
  }
}

/* Botones más accesibles en mobile */
@media (max-width: 600px) {
  .MuiButton-root {
    padding: 12px 16px !important;
    font-size: 0.875rem !important;
  }
  
  .MuiIconButton-root {
    padding: 8px !important;
  }
}

/* Sidebar y navegación mobile */
@media (max-width: 768px) {
  /* Asegurar que el sidebar no aparezca en mobile */
  .pro-sidebar {
    display: none !important;
  }
  
  /* Drawer específico para mobile - mejorar visualización */
  .MuiDrawer-root {
    z-index: 1400 !important;
  }
  
  .MuiDrawer-paper {
    background: transparent !important;
    overflow: hidden !important;
    width: 320px !important;
    height: 100vh !important;
    max-height: 100vh !important;
    min-height: 100vh !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    bottom: 0 !important;
    box-shadow: none !important;
    border: none !important;
    display: flex !important;
    flex-direction: column !important;
  }
  
  /* Asegurar que el backdrop funcione correctamente */
  .MuiBackdrop-root {
    background-color: transparent !important;
    z-index: 1300 !important;
  }
  
  /* Modal específico */
  .MuiModal-root {
    z-index: 1400 !important;
  }
  
  /* Prevenir scroll del body cuando el drawer está abierto */
  body.drawer-open {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
  }
}
